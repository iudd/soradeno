# ğŸš€ Sora2API å¿«é€Ÿå‚è€ƒå¡ç‰‡

## ğŸ“¡ SSE æ•°æ®æµå¤„ç† - å…³é”®å­—æ®µ

### 1ï¸âƒ£ **reasoning_content** - è¿›åº¦æç¤º
```javascript
delta.reasoning_content
// ç¤ºä¾‹: "**Video Generation Progress**: 40% (processing)"
// ç”¨é€”: æ˜¾ç¤ºåœ¨çŠ¶æ€æ ï¼Œå®æ—¶æ›´æ–°ç”Ÿæˆè¿›åº¦
```

### 2ï¸âƒ£ **wm** - æ— æ°´å°çŠ¶æ€
```javascript
delta.wm = {
  stage: "waiting",      // waiting | published | ready
  attempt: 3,            // å°è¯•æ¬¡æ•°
  can_cancel: true,      // æ˜¯å¦å¯å–æ¶ˆ
  task_id: "s_xxxx"      // ä»»åŠ¡ID
}
// ç”¨é€”: æ˜¾ç¤º"æ­£åœ¨è§£ææ— æ°´å°..."æç¤º
```

### 3ï¸âƒ£ **output** - æœ€ç»ˆç»“æœ â­ (æœ€é‡è¦!)
```javascript
delta.output = [{
  url: "https://video-url.mp4",
  type: "video",
  task_id: "s_xxxx"
}]
// ç”¨é€”: è¿™æ˜¯æœ€ç»ˆçš„è§†é¢‘URLï¼Œä¼˜å…ˆä½¿ç”¨æ­¤å­—æ®µï¼
```

### 4ï¸âƒ£ **content** - å¤‡ç”¨æå–
```javascript
delta.content
// ç¤ºä¾‹: "```html\n<video src='https://...' controls></video>\n```"
// ç”¨é€”: å¦‚æœ output ä¸ºç©ºï¼Œä»è¿™é‡Œæå– URL
```

### 5ï¸âƒ£ **finish_reason** - å®Œæˆæ ‡å¿—
```javascript
finish_reason: "STOP"  // æˆ– "stop"
// ç”¨é€”: æ ‡è®°ç”Ÿæˆå®Œæˆ
```

---

## ğŸ” æ§åˆ¶å°æ—¥å¿—æ ‡è¯†

| Emoji | å«ä¹‰ | ç¤ºä¾‹ |
|-------|------|------|
| ğŸš€ | å‡½æ•°å¼€å§‹ | `[streamGeneration] å¼€å§‹è°ƒç”¨ API` |
| ğŸ“‹ | å‚æ•°ä¿¡æ¯ | `[streamGeneration] å‚æ•°: {...}` |
| ğŸ“¡ | HTTP å“åº” | `[streamGeneration] å“åº”çŠ¶æ€: 200 OK` |
| ğŸ“– | å¼€å§‹è¯»å–æµ | `[streamGeneration] å¼€å§‹è¯»å– SSE æµ...` |
| ğŸ“¦ | æ•°æ®å— | `[streamGeneration] è§£æåˆ°æ•°æ®å—: {...}` |
| ğŸ’­ | è¿›åº¦å†…å®¹ | `[reasoning_content]: 40%` |
| ğŸ”— | æ— æ°´å°çŠ¶æ€ | `[wm å¯¹è±¡]: {stage: "waiting"}` |
| ğŸ¯ | æœ€ç»ˆç»“æœ | `[output] è·å–åˆ°æœ€ç»ˆç»“æœ` |
| âœ¨ | æœ€ç»ˆURL | `[æœ€ç»ˆURL]: https://...` |
| ğŸ” | URLæå– | `[ä» content æå–åˆ° URL]` |
| ğŸ¬ | å®Œæˆæ ‡å¿— | `[finish_reason] ç”Ÿæˆå®Œæˆ` |
| âœ… | æˆåŠŸå®Œæˆ | `[streamGeneration] æµè¯»å–å®Œæˆ` |
| âŒ | é”™è¯¯ | `[streamGeneration] HTTP é”™è¯¯` |
| âš ï¸ | è­¦å‘Š | `[genTask] å·²æœ‰ä»»åŠ¡åœ¨å¤„ç†ä¸­` |

---

## ğŸ“ å¤„ç†ä¼˜å…ˆçº§

```
1. delta.output[0].url          â­â­â­ æœ€å¯é 
2. delta.reasoning_content      â­â­   æ˜¾ç¤ºè¿›åº¦
3. delta.wm                     â­â­   æ— æ°´å°çŠ¶æ€
4. delta.content                â­     å¤‡ç”¨æå–
5. finish_reason                â­     å®Œæˆæ ‡å¿—
```

---

## ğŸ§ª å¿«é€Ÿæµ‹è¯•æ­¥éª¤

1. **æ‰“å¼€æ§åˆ¶å°**: `F12` â†’ Console
2. **å‘èµ·è¯·æ±‚**: ç‚¹å‡»"ç”Ÿæˆè§†é¢‘"
3. **è§‚å¯Ÿæ—¥å¿—**: æŒ‰ emoji å¿«é€Ÿå®šä½
4. **æ£€æŸ¥ç»“æœ**: ç¡®è®¤ `âœ¨ [æœ€ç»ˆURL]` è¾“å‡º

---

## âš¡ å¸¸è§é—®é¢˜é€ŸæŸ¥

### Q1: æ§åˆ¶å°æ²¡æœ‰è¾“å‡ºï¼Ÿ
âœ… ç¡®è®¤æµè§ˆå™¨æ§åˆ¶å°å·²æ‰“å¼€ (F12)  
âœ… ç¡®è®¤é¡µé¢å·²åˆ·æ–°åŠ è½½æœ€æ–°ä»£ç   
âœ… æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦è¿‡æ»¤äº†æ—¥å¿—çº§åˆ«

### Q2: çœ‹åˆ°è¿›åº¦ä½†æ²¡æœ‰æœ€ç»ˆ URLï¼Ÿ
âœ… æ£€æŸ¥æ˜¯å¦æ”¶åˆ° `ğŸ¯ [output]` æ—¥å¿—  
âœ… æ£€æŸ¥ `delta.output[0].url` æ˜¯å¦å­˜åœ¨  
âœ… æŸ¥çœ‹æ˜¯å¦æœ‰ `âŒ` é”™è¯¯æ—¥å¿—

### Q3: è§†é¢‘ URL æ— æ³•æ’­æ”¾ï¼Ÿ
âœ… æ£€æŸ¥ URL æ ¼å¼æ˜¯å¦æ­£ç¡®  
âœ… å°è¯•åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€ URL  
âœ… æ£€æŸ¥æ˜¯å¦æ˜¯ Google Drive é“¾æ¥ï¼ˆéœ€è¦ç‰¹æ®Šå¤„ç†ï¼‰

---

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `Sora2APIè°ƒç”¨è§„èŒƒ.md` - å®Œæ•´ API æ–‡æ¡£
- `æ›´æ–°è¯´æ˜-SSEå¤„ç†ä¼˜åŒ–.md` - è¯¦ç»†æ›´æ–°è¯´æ˜
- `index.html` - ä¸»å‰ç«¯ä»£ç 
- `feishu-frontend.js` - é£ä¹¦æ‰¹é‡ç”Ÿæˆ

---

**å¿«é€Ÿå‚è€ƒå¡ç‰‡ v1.0** | 2025-12-28
